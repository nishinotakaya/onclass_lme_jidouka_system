# config/scheduler_production.yml

# onclass_mentions_every:
#   class: "Onclass::MentionsWorker"
#   cron: "0,30 7-23 * * *"
#   queue: onclass_comunity_Mentions
#   tz: "Asia/Tokyo"
#   description: "コミュニティメンション機能通知(7-23時の間で30分おきに実行)"

# onclass_pdca_every:
#   class: "Onclass::PdcaStudentsWorker"
#   cron: "0 7-23/2 * * *"   # 07,09,11,13,15,17,19,21,23
#   queue: onclass_comunity_pdca_students
#   tz: "Asia/Tokyo"
#   description: "コミュニティ機能毎日のPDCA通知(7~23時に2時間おきに実行)"

onclass_students_front:
  class: "Onclass::StudentsDataWorker"
  cron: "0 7-23/2 * * *"   # 7:00, 9:00, 11:00, ..., 23:00
  queue: onclass_students_data
  args:
    - "oYTO4UDI6MGb"
    - "フロントコース受講生"
  tz: "Asia/Tokyo"
  description: "フロントコース受講生データ取得"

onclass_students_backend:
  class: "Onclass::StudentsDataWorker"
  cron: "15 7-23/2 * * *"  # 7:15, 9:15, 11:15, ..., 23:15
  queue: onclass_students_data
  args:
    - "oEDI6MGb"
    - "フリーエンジニア養成コース"
  tz: "Asia/Tokyo"
  description: "バックエンドコース受講生データ取得(2時間毎)"

lme_line_inflows_daily:
  class: "Lme::LineInflowsWorker"
  cron: "0 7-23/2 * * *"
  queue: lme_line_inflows
  args:
    - "2023-01-01"
  tz: "Asia/Tokyo"
  description: "LME LINE流入数集計"

lme_line_counts_every:
  class: "Lme::LineCountsWorker"
  cron: "5 7-23/2 * * *"   # 流入集計の5分後に実行
  queue: lme_line_counts
  tz: "Asia/Tokyo"
  description: "LME LINEダッシュボード更新"

# ★ 自チャンネルの YouTube Analytics（本番）
youtube_analytics_daily:
  class: "Youtube::AnalyticsWorker"
  cron: "30 7 * * *"   # 毎日 07:30
  queue: youtube_analytics
  tz: "Asia/Tokyo"
  description: "YouTube動画一覧の集計＆スプレッドシート更新"

# ★ 競合チャンネルの YouTube 分析（本番）
youtube_competitors_daily:
  class: "Youtube::CompetitorWorker"
  cron: "45 7 * * *"   # 毎日 07:45（Analytics のあと）
  queue: youtube_competitors
  tz: "Asia/Tokyo"
  description: "YouTube競合チャンネルの動画＆コメント収集"
